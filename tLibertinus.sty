%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% A package designed to implement my favourite font setup for use
% with Libertinus for body and math.
%
% Version: 0.1 - Nov 2016.
%          0.2 - March 2018.
%
% Author: Timothy A.V. Teatro <timothy.teatro@uoit.net>
%
%
%
%%% Font selection and related definitions
%====================================================================


\usepackage{pgfornament}
\usepackage{fontspec}
\defaultfontfeatures{RawFeature=+calt}
\setmainfont{libertinusserif-regular.otf}[
    Path = {/home/timtro/.fonts/type1/Libertinus/}
  , ItalicFont = libertinusserif-italic.otf
  , BoldFont = libertinusserif-semibold.otf
  , BoldItalicFont = libertinusserif-bolditalic.otf ]
\setsansfont{libertinussans-regular.otf}[
    Path = {/home/timtro/.fonts/type1/Libertinus/}
  , ItalicFont = libertinussans-italic.otf
  , BoldFont = libertinussans-bold.otf ]
\setmonofont{Hasklig}[
    Scale = MatchLowercase
  , BoldFont = *-Semibold
  , ItalicFont = *-It
  , BoldItalicFont = *-SemiboldIt ]

\newfontfamily{\textdf}[
  Path = {/home/timtro/.fonts/type1/Libertinus/}
    ]{libertinusserifdisplay-regular.otf}

\newfontfamily{\textsb}[
  Path = {/home/timtro/.fonts/type1/Libertinus/}
    ]{libertinusserif-semibold.otf}

\newfontfamily{\textsbit}[
  Path = {/home/timtro/.fonts/type1/Libertinus/}
    ]{libertinusserif-semibolditalic.otf}

\ifluatex\usepackage{lualatex-math}\fi
\usepackage[math-style=ISO, partial=upright]{unicode-math}
\setmathfont[
    Path = {/home/timtro/.fonts/type1/Libertinus/}
  , AutoFakeBold
    ]{libertinusmath-regular.otf}

\captiontitlefont{\footnotesize\sffamily}
\captionnamefont{\footnotesize\sffamily}

\usepackage{lettrine}
\newfontfamily{\infamily}{Roboto Condensed}[Scale=MatchUppercase]
\renewcommand*{\DefaultLoversize}{0.1}
\renewcommand{\LettrineFontHook}{\infamily}
\renewcommand{\LettrineTextFont}{\sffamily\MakeTextUppercase}

\usepackage{adforn}
\usepackage{pgfornament}
\newcommand{\asterismFrame}[1]{\par\bigskip\noindent\hfill #1 \hfill\null\par\bigskip\@afterindentfalse\@afterheading}
\newcommand{\linearAsterism}{\asterismFrame{$*\quad*\quad*$}}
\newcommand{\bouquetAsterism}{\asterismFrame{%
    \begin{tikzpicture}
      \node[anchor=centre, rotate=120]{\pgfornament[width=.5cm]{9}}
    \end{tikzpicture}
  }
}
\newcommand{\fleurAsterism}{\asterismFrame{\adfflowerright}}
\newcommand{\sAsterism}{\asterismFrame{\adfopenflourishleft}}
\newcommand{\ssAsterism}{\asterismFrame{\adfdoubleflourishleft}}
\newcommand{\sssAsterism}{\asterismFrame{\adftripleflourishleft}}
\newcommand{\sickleAsterism}{\asterismFrame{\adfsickleflourishleft}}

\setmathfont[range={}]{libertinusmath-regular.otf} % Reload with empty range for correct spacing
